---
title: 'Entity Relationship and Schema Design'
date: '2022-04-22'
tags: ['Database', 'lecture']
---

### ER Model

데이터베이스 설계는 요구 사항을 분석하고 이를 개념적 모델로 변환한 후 논리적 모델(관계형 스키마)로 매핑하는 체계적인 과정입니다. 엔티티-관계 (ER) 모델은 데이터베이스의 개념적 스키마를 설계하기 위한 강력한 도구로, 실제 세계의 데이터를 개체(Entity), 속성(Attribute), 그리고 관계(Relationship)라는 세 가지 기본 개념을 통해 시각적으로 표현합니다.

개체는 현실 세계에서 구별될 수 있는 독립적인 객체나 개념으로 예를 들면 학생이나 깅의명 등이 해당합니다. 동일한 유형의 개체들의 모음을 개체 집합이라고 하며 자신의 기본 키를 형성하는 데 식별 개체 집합의 기본 키에 의존하는 집합을 약한 개체 집합이라고 합니다.

속성은 개체 집합의 특성 또는 성질을 설명합니다. 단순 속성은 ID 같이 더 이상 분해되지 않지만 복합 속성은 주소를 거리와 도시 등으로 여러 개의 단순 속성으로 분해될 수 있습니다. 대부분의 속성은 단일 값을 가지지만 다중 값 속성은 한 개체가 여러 개의 값을 가질 수 있습니다.

매핑 기수는 관계에 참여하는 개체들의 최대 참여 수를 정의하며 관계형 스키마로의 매핑에 결정적인 영향을 미칩니다.

---

### Schema Design

개념적 ER 모델은 논리적 모델인 관계형 스키마(테이블)로 변환되어야 합니다. 이 변환의 목표는 데이터 중복을 최소화하고 무결성을 유지하는 것입니다.

중복성이 높아지면 정보가 여러 튜플에 반복적으로 저장되어 저장 공간을 낭비하고 일관성을 위협합니다. 중복된 데이터를 갱신할 때 일부만 갱신되어 데이터가 불일치하는 오류, 특정 정보를 삽입하기 위해 불필요한 다른 정보까지 강제로 삽입해야 하는 오류, 필요한 정보를 삭제할 때 다른 중요한 정보까지 함께 삭제되는 오류가 발생할 수 있습니다.

함수 종속성 FD는 정규화 이론의 핵심 기반입니다. 릴레이션 $R$에서 애트리뷰트 집합 $A$가 $B$를 함수적으로 결정한다($A \to B$)는 것은 $R$의 어떤 두 튜플이 $A$에 대해 동일한 값을 가진다면 그들은 $B$에 대해서도 동일한 값을 가져야 함을 의미합니다.

---

### Normal Forms

정규화(Normalization)는 스키마를 여러 개의 작은 릴레이션으로 분해하여 중복성을 최소화하고 이상 현상을 제거하는 체계적인 프로세스입니다.

제1 정규형은 릴레이션의 모든 애트리뷰트 값이 원자적(Atomic)이어야 하며 반복 그룹(Repeating Groups)이 존재하지 않아야 합니다. 하나의 셀에는 단일 값만 존재해야 합니다.

제2 정규형은 1NF를 만족하고 기본 키가 아닌 모든 애트리뷰트가 기본 키의 전체에 함수적으로 종속되어야 합니다. 부분 함수 종속성으로 기본 키의 일부에만 종속되는 키가 아닌 애트리뷰트를 제거합니다.

제3 정규형은 2NF를 만족하고 기본 키가 아닌 모든 애트리뷰트가 기본 키에 이행적(Transitive)으로 종속되지 않아야 합니다.

정규화의 목표는 무손실 분해를 통해 이상 현상을 제거하고 데이터 중복을 최소화해야 하고 분해 후 재결합했을 때 원래 정보가 손실되지 않아야 합니다. 정규화를 너무 높은 수준으로 진행하면 릴레이션의 수가 많아져 복잡한 질의(조인)가 늘어나고 성능이 저하될 수 있습니다.

---

### 참고 자료

[원본 경로 #1](https://www2.seas.gwu.edu/~bhagiweb/cs2541/lectures/ER.pdf)

[원본 경로 #2](https://www2.seas.gwu.edu/~bhagiweb/cs2541/lectures/schema-design.pdf)

[원본 경로 #3](https://www2.seas.gwu.edu/~bhagiweb/cs2541/lectures/normal-forms.pdf)