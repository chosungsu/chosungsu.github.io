---
title: 'Transportation and Assignment Problems Ⅰ'
date: '2024-07-19'
tags: ['Operations Research 1', 'lecture']
---

### typical transportation problem

예를 들어, 어떤 제조회사는 $n=3$명의 고객의 요구를 충족시키는 $m=2$개의 공장을 가지고 있다고 합니다. 공장에서 고객까지의 단위 운송 비용은 거리에 따라 달라집니다. 공장 1에서 고객까지의 단위 운송 비용은(8, 6, 10)이고 공장 2에서 고객까지의 단위 운송 비용은(9, 12, 13)입니다. 공장 1과 공장 2의 하루 최대 공급량(40, 50)으로 정해져 있으며 각 고객은 하루에 최소 30개의 제품을 필요로 한다고 합니다.

결정 변수를 정하면 $x_{ij}$를 공장 i에서 고객 j에게 배송된 제품의 수로 정의합니다. 목적 함수는 min $z=8x_{11}+6x_{12}+10x_{13}+9x_{21}+12x_{22}+13x_{23} \rightarrow z=\sum_{i=1}^{m}\sum_{j=1}^{n} c_{ij}x_{ij}$으로 정의하고 제약 조건은 $x_{11}+x_{12}+x_{13} \le 40$, $x_{21}+x_{22}+x_{23} \le 50$, $x_{11}+x_{21} \ge 30$, $x_{12}+x_{22} \ge 30$, $x_{13}+x_{23} \ge 30$으로 생각할 수 있습니다. 제약 조건도 일반화하게 되면 $\sum_{j=1}^{n} x_{ij}=s_i, i=1,...,m$, $\sum_{i=1}^{m} x_{ij}=d_j, j=1,...,n$, $\sum_{i=1}^{m} s_i=\sum_{j=1}^{n} d_j$로 표현 가능합니다.

---

### finding BFS

#### Northwest corner method

transportation tableau에서 북서쪽 모서리 셀을 찾습니다. 선택된 셀에 최대한 많은 금액을 할당하고 할당된 금액을 빼서 공급 및 수요 금액을 조정합니다. 다음으로 공급이나 수요가 0인 행이나 열을 지웁니다. 행과 열 모두 0이 있는 경우 임의로 하나만 지웁니다. 딱 하나의 셀만 그려지지 않았다면 그 셀을 그려 지우고 멈춥니다.

예를 들어 첫번째 행의 총 공급량 5이고 두번째 행의 총 공급량 1, 세번째 행의 총 공급량 3이 있고 첫번째 열의 총 수요량 2, 두번째 열의 총 수요량 4, 세번째 열의 총 수요량 2, 네번째 열의 총 수요량 1로 되어있는 tableau가 있다고 합시다.

북서쪽 셀에 **2**를 넣으면 (행,열) 기준 (3, 0)이 남게 됩니다. 2단계로 수요나 공급이 0이 된 행 또는 열을 지워야 하므로 수요가 0이 된 첫번째 열 전체를 지우고 셀이 한 개 이상 남아 다시 입력부터 반복합니다.

남아있는 셀 중 북서쪽 셀에 공급 < 수요이므로 공급액인 **3**을 넣으면 (0, 1)이 남게 됩니다. 2단계로 행을 지웁니다. 셀이 한 개 이상 남아 다시 입력부터 반복합니다.

남아있는 셀 중 북서쪽 셀에 공급 = 수요이므로 **1**을 넣으면 (0, 0)이 됩니다. 2단계로 임의의 한 줄을 지워야 하므로 행을 지우도록 하겠습니다. 셀이 한 개 이상 남아 다시 입력부터 반복합니다.

남아있는 셀 중 북서쪽 셀에 공급 > 수요이지만 수요가 0이므로 **0**을 넣으면 (3, 0)이 됩니다. 2단계로 열을 지웁니다. 셀이 한 개 이상 남아 다시 입력부터 반복합니다.

남아있는 셀 중 북서쪽 셀에 공급 > 수요이므로 **2**를 넣으면 (1, 0)이 됩니다. 2단계로 열을 지웁니다. 마지막 남은 셀에는 남은 값인 **1**을 넣고 모든 셀이 제거되었습니다.

입력된 셀 값들과 제약 조건을 확인하여 BFS인지 확인하면 됩니다. 이 방법의 장점은 계산 노력이 가장 적게 필요하다는 것이지만 단점은 비용 정보를 활용하지 않기 때문에 비용이 매우 높은 BFS가 발생할 수 있다는 것입니다.

#### Minimum cost method

transportation tableau에서 단위 비용이 가장 작은 셀을 찾습니다. 그 값이 같으면 임의로 결정됩니다. 선택된 셀에 최대한 많은 금액을 할당하고 할당된 금액을 빼서 공급 및 수요 금액을 조정합니다. 다음으로 공급이나 수요가 0인 행이나 열을 지웁니다. 행과 열 모두 0이 있는 경우 임의로 하나만 지웁니다. 딱 하나의 셀만 그려지지 않았다면 그 셀을 그려 지우고 멈춥니다.

예를 들어 첫번째 행의 총 공급량 5이고 두번째 행의 총 공급량 10, 세번째 행의 총 공급량 15이 있고 첫번째 열의 총 수요량 12, 두번째 열의 총 수요량 8, 세번째 열의 총 수요량 4, 네번째 열의 총 수요량 6로 되어있는 tableau가 있다고 합시다. 각 셀의 단위 운송 비용은 $\begin{bmatrix} 2 & 3 & 5 & 6 \\ 2 & 1 & 3 & 5 \\ 3 & 8 & 4 & 6 \end{bmatrix}$ 이라고 합시다.

가장 단위 비용이 작은 셀 $x_{22}$에 공급 > 수요로 **8**을 넣으면 (행, 열) 기준 (2, 0)이 남게 됩니다. 2단계로 0이 된 행 또는 열을 지워야 하므로 열을 지웁니다. 셀이 한 개 이상 남아 다시 입력부터 반복합니다.

다음으로 단위 비용이 작은 셀은 여러 개이므로 임의로 $x_{21}$ 셀에 공급 < 수요로 **2**를 넣으면 (0, 10)이 남게 됩니다. 2단계로 행을 지웁니다. 셀이 한 개 이상 남아 다시 입력부터 반복합니다.

다음으로 단위 비용이 작은 셀 $x_{11}$에 공급 < 수요로 **5**를 넣으면 (0, 5)가 남게 됩니다. 2단계로 행을 지웁니다. 셀이 한 개 이상 남아 다시 입력부터 반복합니다.

다음으로 단위 비용이 작은 셀 $x_{31}$에 공급 > 수요로 **5**를 넣으면 (10, 0)이 남게 됩니다. 2단계로 열을 지웁니다. 셀이 한 개 이상 남아 다시 입력부터 반복합니다.

다음으로 단위 비용이 작은 셀 $x_{33}$에 공급 > 수요로 **4**를 넣으면 (6, 0)이 남게 됩니다. 2단계로 열을 지웁니다. 마지막 남은 셀에는 남은 값인 **6**을 넣고 모든 셀이 제거되었습니다.

제약 조건을 확인하여 BFS인지 확인하면 됩니다. 이 방법의 장점은 비용 정보를 활용하고 최적 솔루션에 더 가까울 수 있다는 것이지만 단점은 조금 더 많은 계산 비용이 들 수 있습니다.

#### Vogel's method

각 행 또는 열에 대해 같은 행 또는 열에서 두번째로 작은 단위 비용에서 해당 행 또는 열에서 가장 작은 단위 비용을 빼서 페널티를 계산합니다. 그 다음 가장 큰 페널티가 있는 행이나 열을 찾아 단위 비용이 가장 작은 셀을 찾습니다. 페널티가 동일하거나 단위 비용이 동일하면 임의로 선택합니다. 선택된 셀에 최대한 많은 금액을 할당하고 할당된 금액을 빼서 공급 및 수요 금액을 조정합니다.

예를 들어 첫번째 행의 총 공급량 10이고 두번째 행의 총 공급량 15이 있고 첫번째 열의 총 수요량 15, 두번째 열의 총 수요량 5, 세번째 열의 총 수요량 5로 되어있는 tableau가 있다고 합시다. 각 셀의 단위 운송 비용은 $\begin{bmatrix} 6 & 7 & 8 \\ 15 & 80 & 78 \end{bmatrix}$ 이라고 합시다.

첫번째 행의 페널티는 $(7-6)=1$, 두번째 행의 페널티는 $(78-15)=63$, 첫번째 열의 페널티는 $(15-6)=9$, 두번째 열의 페널티는 $(80-7)=73$, 세번째 열의 페널티는 $(78-8)=70$을 갖습니다.

가장 큰 페널티를 갖는 열인 $C_2$에서 가장 작은 단위 비용을 갖는 셀인 $x_{12}$에 공급 > 수요로 **5**를 넣으면 (5, 0)이 남게 됩니다. 0을 갖는 $C_2$열을 지웁니다. 셀이 한 개 이상 남아 다시 입력부터 반복합니다.

다시 반복하여 페널티를 수정하면 첫번째 행의 페널티는 $(8-6)=2$, 두번째 행, 첫번째 열, 세번째 열의 페널티는 이전과 동일합니다.

다음으로 큰 페널티를 갖는 열인 $C_3$에서 가장 작은 단위 비용을 갖는 셀인 $x_{13}$에 공급=수요로 **5**를 넣으면 (0, 0)이 남게 됩니다. 랜덤으로 0을 갖는 $C_3$열을 지웁니다. 셀이 한 개 이상 남아 다시 입력부터 반복합니다.

다시 반복하여 페널티를 수정하면 한 셀씩만 남은 행의 페널티들은 없애고, 첫번째 열의 페널티는 이전과 동일합니다.

다음으로 큰 페널티를 갖는 열인 $C_1$에서 가장 작은 단위 비용을 갖는 셀인 $x_{11}$에 공급<수요로 **0**를 넣으면 (0, 15)가 남게 됩니다. 0을 갖는 $R_1$행을 지웁니다. 마지막 남은 셀에는 **15**를 넣고 모든 셀이 제거되었습니다.

이 방법의 장점은 비용이 높은 BFS를 피할 수 있고 나중에 너무 많은 피벗 반복이 필요하지 않지만 단점은 다른 방법에 비해 많이 복잡하다는 것입니다.

---

### 참고 자료

[원본 경로 #1](https://youtu.be/QzESRTsLnUk?si=prhp9OkWCHKFKr2x)

[원본 경로 #2](https://youtu.be/v-JcpuQOfjk?si=wQlJ8NV0do-RGrhx)

[원본 경로 #3](https://youtu.be/YxyTSBs19NE?si=yj9pubEz1KJKk2if)

[원본 경로 #4](https://youtu.be/6MB4ns6Evak?si=iCwP5-2O_1MMHpU3)


