---
title: 'File system and I/O'
date: '2022-05-27'
tags: ['Operating System', 'lecture']
---

### I/O & Device Management

I/O (Input/Output) 서브시스템은 사용자가 컴퓨터와 상호 작용할 수 있도록 하며 데이터를 영구적으로 저장하는 장치와의 통신을 관리합니다.

장치 드라이버는 장치마다 존재하는 커널 모듈로 레지스터, 통신 프로토콜 등을 캡슐화하고 인터페이스(API)를 통해 접근할 수 있도록 변환해줍니다. Polling은 CPU가 주기적으로 장치의 상태 레지스터를 검사하여 I/O 작업 완료 여부를 확인하는 방식입니다. 구현이 간단하지만 장치가 느릴 경우 Busy-Wait 상태를 초래하여 비효율적입니다. Interrupt-driven I/O는 작업을 완료했을 때 인터럽트 신호를 CPU에 보내서 주의를 요청하는 방식입니다. Direct Memory Access는 대량의 데이터를 장치와 메모리 사이에 전송할 때 CPU 개입 없이 DMA 컨트롤러가 직접 메모리 접근을 관리하는 방식입니다.

#### Disk Scheduling

디스크 I/O 요청이 큐에 쌓였을 때 헤드의 움직임(Seek Time)을 최소화하여 디스크의 처리량(Throughput)을 극대화하고 평균 응답 시간을 줄이기 위한 알고리즘입니다.

FCFS는 요청이 들어온 순서대로 처리합니다. 공정하지만 비효율적인 헤드 움직임을 초래할 수 있습니다. SSTF는 현재 헤드 위치에서 가장 가까운 트랙에 대한 요청을 먼저 처리합니다. 외곽이나 안쪽 트랙의 요청이 영원히 처리되지 못하는 Starvation이 발생할 수 있습니다. SCAN은 헤드가 디스크의 한쪽 끝에서 다른 쪽 끝으로 이동하며 요청을 처리하고 끝에 도달하면 방향을 바꿔 돌아오면서 처리합니다.

---

### File System

파일 시스템은 운영체제의 가장 중요한 추상화 중 하나로 디스크와 같은 물리적 저장 장치를 사용자가 이해하기 쉬운 파일과 디렉토리 계층 구조로 변환하여 데이터를 영구적으로 관리합니다.

#### 파일 및 디렉토리 개념

파일은 논리적으로 연관된 정보의 모음으로 사용자에게는 영구 저장 장치의 논리적 단위로 인식됩니다. 디렉토리는 파일 시스템의 구조를 제공하는 특수한 유형의 파일로 파일 이름과 그 파일이 저장된 위치(인덱스, i-node 등)의 매핑 정보를 저장합니다. 링크에는 동일한 파일 데이터에 대한 추가적인 디렉토리 항목을 생성하는 하드링크와 파일 데이터가 아닌 원본 파일의 경로 이름을 저장하는 포인터 파일인 심볼릭링크가 있습니다.

#### 파일 할당 방식

연속 할당은 파일을 디스크의 연속된 블록에 할당합니다. 순차 접근 및 랜덤 접근 속도가 빠르지만 외부 단편화가 발생하며, 파일 크기 변경이 어렵습니다.

연결 할당은 파일의 각 블록이 디스크의 임의의 위치에 분산되어 할당됩니다. 각 블록은 다음 블록의 주소를 가리키는 포인터를 포함합니다. 랜덤 접근이 불가능하고 포인터 저장으로 인해 오버헤드가 발생하며 손상 시 데이터 접근이 어려워집니다.

색인 할당은 파일의 모든 블록 주소를 모아놓은 색인 블록을 사용합니다. 파일의 논리적 블록 번호를 통해 해당 데이터가 저장된 물리적 디스크 블록 주소를 찾습니다.

---

### 참고 자료

[원본 경로 #1](https://www.cis.upenn.edu/~lee/03cse380/lectures/ln2-process-v4.pdf)

[원본 경로 #2](https://www.cl.cam.ac.uk/teaching/1011/OpSystems/os1a-slides.pdf)